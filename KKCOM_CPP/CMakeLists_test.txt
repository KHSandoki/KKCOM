cmake_minimum_required(VERSION 3.16)
project(KKCOM_Serial_Test)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Include directories
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include)

# Source files for test
set(TEST_SOURCES 
    src/test_serial.cpp
    src/SerialManager.cpp
)

# Create test executable
add_executable(${PROJECT_NAME} ${TEST_SOURCES})

# Platform-specific libraries
if(WIN32)
    target_link_libraries(${PROJECT_NAME} winmm ws2_32 setupapi)
elseif(UNIX)
    target_link_libraries(${PROJECT_NAME} pthread)
endif()